function hrefLink(a){if(navigator.userAgent.indexOf("Firefox")>0)window.location=a;else{var b=document.createElement("a");if(b.href=a,document.body.appendChild(b),/msie/i.test(navigator.userAgent.toLowerCase()))b.click();else{var c=document.createEvent("MouseEvent");c.initEvent("click",!1,!1),b.dispatchEvent(c)}}}function d(a){var b;return(b=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)")))?stripscript(decodeURIComponent(b[2].replace(/\+/g,"%20"))):null}var SFE=SFE||{};SFE.base=function(a){function b(){var b="test",c=window.localStorage,d=!!a.browser.msie&&parseInt(a.browser.version);if(d&&d<=7||"undefined"==typeof JSON)return!1;try{return c.setItem(b,"testValue"),c.removeItem(b),!0}catch(e){return!1}}function c(a,b){var c=new Date;c.setTime(c.getTime()+31536e6),document.cookie=a+"="+escape(b)+";path=/;domain="+sn.cookieDomain+";expires="+c.toGMTString()}function d(b){var c=k("cityId")||"9173",d=a(b).attr("href"),e=null==d.match(/cityId=.*&/gi)?"":"&";a(b).attr("href",d.replace(/cityId=.*?&|cityId=.*$/gi,"cityId="+c+e))}function e(b){var c=k("cityId")||"9173";url=a(b).attr("href").replace(/{cityId}/gi,c).replace(/%7bcityId%7d/gi,c),a(b).attr("href",url)}function f(a){return a=a.replace(/\-/g,"%2d"),a=a.replace(/\&/g,"%26"),a=a.replace(/\./g,"%2E"),a=a.replace(/\+/g,"%2B")}var g="https:"==document.location.protocol?"https":"http",h=!!window.ActiveXObject,i=h&&!window.XMLHttpRequest,j=function(a){var b=/^(\w*)(pre)(.*)(\.cnsuning\.com)$/,c=/^(\w*)(sit)(.*)(\.cnsuning\.com)$/;return b.test(a)?"pre":c.test(a)?"sit":"prd"};var k=function(a){var b;return(b=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)")))?stripscript(decodeURIComponent(b[2].replace(/\+/g,"%20"))):null},l=function(){if(void 0==sn.passportLogon||null==sn.passportLogon){var a=/^(\w*)(pre)(\w*)(.cnsuning.com)$/,b=/^(\w*)(sit)(\w*)(.cnsuning.com)$/,c=/^(\w*)(dev)(\w*)(.cnsuning.com)$/,d=document.location.hostname;sn.passportLogon="https://passport.suning.com/ids/login",a.test(d)?sn.passportLogon="https://passportpre.cnsuning.com/ids/login":b.test(d)?sn.passportLogon="https://passportsit.cnsuning.com/ids/login":c.test(d)&&(sn.passportLogon="https://passportdev.cnsuning.com/ids/login")}return sn.passportLogon},m=function(){if(void 0==sn.passportLogoff||null==sn.passportLogoff){var a=/^(\w*)(pre)(\w*)(.cnsuning.com)$/,b=/^(\w*)(sit)(\w*)(.cnsuning.com)$/,c=/^(\w*)(dev)(\w*)(.cnsuning.com)$/,d=document.location.hostname;sn.passportLogoff="https://passport.suning.com/ids/logout",a.test(d)?sn.passportLogoff="https://passportpre.cnsuning.com/ids/logout":b.test(d)?sn.passportLogoff="https://passportsit.cnsuning.com/ids/logout":c.test(d)&&(sn.passportLogoff="https://passportdev.cnsuning.com/ids/logout")}return sn.passportLogoff},n=function(){var a=new Date;a.setTime(a.getTime()-1e4),document.cookie="logonStatus=a; expires="+a.toGMTString();var b=l(),c=m(),d=c+"?service="+encodeURIComponent(b+"?method=GET&loginTheme=b2c");window.location=d,SFE.base.miniCartNum()},o=function(){if(!M()){var a="",b="",c=l();if(void 0==sn.sslDomain||null==sn.sslDomain){var d=/^(\w*)(pre)(\w*)(.cnsuning.com)$/,e=/^(\w*)(sit)(\w*)(.cnsuning.com)$/,f=/^(\w*)(dev)(\w*)(.cnsuning.com)$/,g=document.location.hostname;sn.sslDomain="ssl.suning.com",d.test(g)?sn.sslDomain="sslpre.cnsuning.com":e.test(g)?sn.sslDomain="sslsit.cnsuning.com":f.test(g)&&(sn.sslDomain="ssldev.cnsuning.com")}if(-1!=window.location.href.indexOf("&MyURL")){var h=window.location.href.substring(window.location.href.indexOf("&MyURL")+7,window.location.href.length);-1!=h.indexOf("LogonForm")||-1!=h.indexOf("SNUserRegister")||-1!=h.indexOf("SNUserRegisterView")||-1!=h.indexOf("ForgotPasswordView")||-1!=h.indexOf("ForgotCardPswView")||-1!=h.indexOf("MobileActCode")||-1!=h.indexOf("ResetPassword")||-1!=h.indexOf("ForgotPasswordCheckMail")||-1!=h.indexOf("ForgotPasswordSendMailView")||-1!=h.indexOf("ChangeCardPwdWithIdCard")||-1!=h.indexOf("SNUserRegisterNormalMobileCmd")||-1!=h.indexOf("SNCampusMobileRegisterCmd")||-1!=h.indexOf("SNCampusEmailRegisterCmd")||-1!=h.indexOf("MbrCardInputView")||-1!=h.indexOf("SNMbrCardMergeOptionView")||-1!=h.indexOf("SNMbrCardMergeNewAccountView")||-1!=h.indexOf("SNMbrCardMergeOtherAccountView")||-1!=h.indexOf("SNMbrCardCheckCmd")||-1!=h.indexOf("SNMbrCardVerifyMyInfoCmd")||-1!=h.indexOf("SNMbrCardMergeNewAccountCmd")||-1!=h.indexOf("SNMbrCardMergeOtherAccountCmd")||-1!=h.indexOf("SNMbrCardMergeOtherVerifyMobileCmd")||-1!=h.indexOf("SNMbrCardMergeOtherVerifyEmailCmd")||-1!=h.indexOf("SNMbrCardMergeOtherVerifyNewMobileCmd")||-1!=h.indexOf("SNMbrCardMergeCmd")||-1!=h.indexOf("SNInterconnectInputView")||-1!=h.indexOf("SNInterconnectMergeCheckCmd")||-1!=h.indexOf("SNInterconnectMergeNewAccountCmd")||-1!=h.indexOf("SNInterconnectMergeOtherAccountCmd")?(b=encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c"):(h=decodeURIComponent(h),b=encodeURIComponent(h),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c")}else if(-1!=window.location.href.indexOf("&URL")){var i=window.location.href.substring(window.location.href.indexOf("&URL")+5,window.location.href.length);-1!=i.indexOf("LogonForm")||-1!=i.indexOf("SNUserRegister")||-1!=i.indexOf("SNUserRegisterView")||-1!=i.indexOf("ForgotPasswordView")||-1!=i.indexOf("ForgotCardPswView")||-1!=i.indexOf("MobileActCode")||-1!=i.indexOf("ResetPassword")||-1!=i.indexOf("ForgotPasswordCheckMail")||-1!=i.indexOf("ForgotPasswordSendMailView")||-1!=i.indexOf("ChangeCardPwdWithIdCard")||-1!=i.indexOf("SNUserRegisterNormalMobileCmd")||-1!=i.indexOf("SNCampusMobileRegisterCmd")||-1!=i.indexOf("SNCampusEmailRegisterCmd")||-1!=i.indexOf("MbrCardInputView")||-1!=i.indexOf("SNMbrCardMergeOptionView")||-1!=i.indexOf("SNMbrCardMergeNewAccountView")||-1!=i.indexOf("SNMbrCardMergeOtherAccountView")||-1!=i.indexOf("SNMbrCardCheckCmd")||-1!=i.indexOf("SNMbrCardVerifyMyInfoCmd")||-1!=i.indexOf("SNMbrCardMergeNewAccountCmd")||-1!=i.indexOf("SNMbrCardMergeOtherAccountCmd")||-1!=i.indexOf("SNMbrCardMergeOtherVerifyMobileCmd")||-1!=i.indexOf("SNMbrCardMergeOtherVerifyEmailCmd")||-1!=i.indexOf("SNMbrCardMergeOtherVerifyNewMobileCmd")||-1!=i.indexOf("SNMbrCardMergeCmd")||-1!=i.indexOf("SNInterconnectInputView")||-1!=i.indexOf("SNInterconnectMergeCheckCmd")||-1!=i.indexOf("SNInterconnectMergeNewAccountCmd")||-1!=i.indexOf("SNInterconnectMergeOtherAccountCmd")?(b=encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c"):(i=decodeURIComponent(i),b=encodeURIComponent(i),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c")}else{var j=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length);-1!=j.indexOf("LogonForm")||-1!=j.indexOf("SNUserRegister")||-1!=j.indexOf("SNUserRegisterView")||-1!=j.indexOf("ForgotPasswordView")||-1!=j.indexOf("ForgotCardPswView")||-1!=j.indexOf("MobileActCode")||-1!=j.indexOf("ResetPassword")||-1!=j.indexOf("ForgotPasswordCheckMail")||-1!=j.indexOf("ForgotPasswordSendMailView")||-1!=j.indexOf("ChangeCardPwdWithIdCard")||-1!=j.indexOf("SNUserRegisterNormalMobileCmd")||-1!=j.indexOf("SNCampusMobileRegisterCmd")||-1!=j.indexOf("SNCampusEmailRegisterCmd")||-1!=j.indexOf("MbrCardInputView")||-1!=j.indexOf("SNMbrCardMergeOptionView")||-1!=j.indexOf("SNMbrCardMergeNewAccountView")||-1!=j.indexOf("SNMbrCardMergeOtherAccountView")||-1!=j.indexOf("SNMbrCardCheckCmd")||-1!=j.indexOf("SNMbrCardVerifyMyInfoCmd")||-1!=j.indexOf("SNMbrCardMergeNewAccountCmd")||-1!=j.indexOf("SNMbrCardMergeOtherAccountCmd")||-1!=j.indexOf("SNMbrCardMergeOtherVerifyMobileCmd")||-1!=j.indexOf("SNMbrCardMergeOtherVerifyEmailCmd")||-1!=j.indexOf("SNMbrCardMergeOtherVerifyNewMobileCmd")||-1!=j.indexOf("SNMbrCardMergeCmd")||-1!=j.indexOf("SNInterconnectInputView")||-1!=j.indexOf("SNInterconnectMergeCheckCmd")||-1!=j.indexOf("SNInterconnectMergeNewAccountCmd")||-1!=j.indexOf("SNInterconnectMergeOtherAccountCmd")?(b=encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c"):-1!=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length).indexOf("CxnyProductSearch")?(b=encodeURIComponent(window.location.href),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c"):""==window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length)&&null==window.location.href.match("(.*?suning.com.*?)")?(b=encodeURIComponent("http://"+sn.domain),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c"):(b=encodeURIComponent(window.location.href),a=c+"?service="+encodeURIComponent("https://"+sn.sslDomain+"/webapp/wcs/stores/auth?targetUrl="+b)+"&method=GET&loginTheme=b2c")}hrefLink(a)}},p=function(){var a="";if(void 0==sn.sslDomain||null==sn.sslDomain){var b=/^(\w*)(pre)(\w*)(.cnsuning.com)$/,c=/^(\w*)(sit)(\w*)(.cnsuning.com)$/,d=/^(\w*)(dev)(\w*)(.cnsuning.com)$/,e=document.location.hostname;sn.sslDomain="ssl.suning.com",b.test(e)?sn.sslDomain="sslpre.cnsuning.com":c.test(e)?sn.sslDomain="sslsit.cnsuning.com":d.test(e)&&(sn.sslDomain="ssldev.cnsuning.com")}if(-1!=window.location.href.indexOf("&URL"))a=window.location.href.substring(window.location.href.indexOf("&URL")+5,window.location.href.length),a=-1!=a.indexOf("LogonForm")||-1!=a.indexOf("SNUserRegisterView")||-1!=a.indexOf("ForgotPasswordView")||-1!=a.indexOf("SNUserRegisterView")||-1!=a.indexOf("ForgotPasswordCheckMail")||-1!=a.indexOf("ForgotPasswordSendMailView")||-1!=a.indexOf("ChangeCardPwdWithIdCard")?"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"):"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+a;else if(-1!=window.location.href.indexOf("&MyURL")){var f=window.location.href.substring(window.location.href.indexOf("&MyURL")+7,window.location.href.length);a=-1!=f.indexOf("LogonForm")||-1!=f.indexOf("SNUserRegisterView")||-1!=f.indexOf("ForgotPasswordView")||-1!=f.indexOf("SNUserRegisterView")||-1!=f.indexOf("ForgotPasswordCheckMail")||-1!=f.indexOf("ForgotPasswordSendMailView")||-1!=f.indexOf("ChangeCardPwdWithIdCard")?"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"):"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+f}else if(-1!=window.location.href.indexOf("&krypto")){var f=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.indexOf("&krypto"));a=-1!=f.indexOf("LogonForm")||-1!=f.indexOf("SNUserRegisterView")||-1!=f.indexOf("ForgotPasswordView")||-1!=f.indexOf("SNUserRegisterView")||-1!=f.indexOf("ForgotPasswordCheckMail")||-1!=f.indexOf("ForgotPasswordSendMailView")||-1!=f.indexOf("ChangeCardPwdWithIdCard")?"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"):"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+encodeURIComponent(window.location.href.substring(0,window.location.href.indexOf("&krypto")))}else{var g=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length);a=-1!=g.indexOf("LogonForm")||-1!=g.indexOf("SNUserRegisterView")||-1!=g.indexOf("ForgotPasswordView")||-1!=g.indexOf("SNUserRegisterView")||-1!=g.indexOf("ForgotPasswordCheckMail")||-1!=g.indexOf("ForgotPasswordSendMailView")||-1!=g.indexOf("ChangeCardPwdWithIdCard")?"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+encodeURIComponent("http://"+sn.domain+sn.context+"/tcd_"+sn.storeId+"_"+sn.catalogId+"_.html"):"https://"+sn.sslDomain+sn.context+"/SNUserRegisterView?storeId="+sn.storeId+"&catalogId="+sn.catalogId+"&MyURL="+encodeURIComponent(window.location.href)}hrefLink(a)},q=function(b){var d=k("cityId"),e=k("SN_CITY");if(d)"function"==typeof b&&b(d);else if(e){var f=r(e);"function"==typeof b&&b(f.cityCommerceId)}else{var g=/^(\w*)(pre)(\w*)(.cnsuning.com)$/,h=/^(\w*)(sit)(\w*)(.cnsuning.com)$/,i=/^(\w*)(dev)(\w*)(.cnsuning.com)$/,j=document.location.hostname,l="//ipservice.suning.com";g.test(j)?l="//ipservicepre.cnsuning.com":h.test(j)?l="//ipservicesit.cnsuning.com":i.test(j)&&(l="//ipservicesit.cnsuning.com");var m=l+"/ipQuery.do";a.ajax({type:"GET",url:m,cache:!0,async:!1,dataType:"jsonp",jsonpCallback:"cookieCallback",success:function(a){d=a.cityCommerceId,a.flag="2",a.count=0,c("SN_CITY",s(a)),c("cityId",a.cityCommerceId),c("districtId",a.districtCommerceId),"function"==typeof b&&b(d)},error:function(){d="9173","function"==typeof b&&b(d)}})}},r=function(a){var b=a.split("|"),c=null;if(b.length>0){var d=b[0].split("_");c={},c.provinceMDMId=d[0],c.provinceCommerceId=d[1],c.cityMDMId=d[2],c.cityCommerceId=d[3],c.districtMDMId=d[4],c.districtCommerceId=d[5],c.flag=d[6],c.count=d[7]}return c},s=function(a){var b="";return b+=a.provinceMDMId,b+="_",b+=a.cityLESId,b+="_",b+=a.cityMDMId,b+="_",b+=a.cityCommerceId,b+="_",b+=a.districtLESId,b+="_",b+=a.districtCommerceId,b+="_",b+=a.flag,b+="_",b+=a.count},t=function(){var b={contents:null,align:"right",vertical:"middle",zIndex:7500,css:{},id:null,ieFixed:!0},c=!!a.browser.msie&&parseInt(a.browser.version);if(arguments.length<1||!(arguments[0]instanceof Object))return a.error("ECode.floatBar: 参数必须为JSON对象");a.extend(b,arguments[0]);var d={position:"fixed",top:"-9999em",left:"-9999em"};c&&c<=6&&(d.position="absolute"),a('<div class="ECode-floatBar"></div>').css(d).appendTo("body");var e=a("body").find(".ECode-floatBar:last");e.append(b.contents);var f=e.width(),g=e.height(),h={zIndex:b.zIndex};switch(null!=b.id&&e.attr("id",b.id),b.align){case"right":h.left="auto",h.right=0;break;case"left":h.right="auto",h.left=0;break;case"center":h.right="auto",h.left="50%",h.marginLeft=-f/2}switch(b.vertical){case"top":h.top=0;break;case"bottom":h.top="auto",h.bottom=0;break;case"middle":h.top="50%",h.marginTop=-g/2,c&&c<=6&&(h.marginTop=0)}e.css(a.extend(h,b.css));var i=function(){var c=a(document).scrollTop(),d=a(window).height();a(document).width();switch(b.vertical){case"top":e.stop().animate({top:c});break;case"bottom":var f=d+c-g;if(void 0!==b.css.marginBottom&&null!=b.css.marginBottom){var h=parseInt(b.css.marginBottom);h>=0&&(f-=h)}e.css({marginTop:0}).stop().animate({top:f});break;case"middle":e.stop().animate({top:d/2+c-g/2})}};b.ieFixed&&c&&c<=6&&(i(),a(window).scroll(function(){i()}),a(window).resize(function(){i()}))},u=function(b){var c=a(b);null!=c&&c.length>0&&(c.live("mouseover",function(){d(this)}),c.click(function(){e(this)}))};screen.width,smallScreen=!1;var v,w=document.location.hostname;switch(j(w)){case"pre":v="pre.cn","pre",cmsApiDomain="//libpre.cnsuning.com";break;case"sit":v="sit.cn","sit1",cmsApiDomain="//libsit.cnsuning.com";break;case"prd":v=".","",cmsApiDomain="//lib.suning.com";break;default:v="pre.cn",cmsApiDomain="//lib.suning.com"}var x={topNav:"//lib"+v+"suning.com/header/nav-topnav.jsonp",allSort:"//lib"+v+"suning.com/header/newCateV6-allSort.jsonp",mainNav:"//lib"+v+"suning.com/header/chn-mainNav.jsonp",threeData:"//lib"+v+"suning.com/header/menuData-threeSortShow.jsonp"};if(!h){var y,z=(window.location,new RegExp(/Pad/)||new RegExp(/pad/));y=!!z.exec(navigator.userAgent)}var A=function(){y&&(a("a.touch-href").attr("href","javascript:void(0);"),a(".ng-sort").find("ul.sort-list").find("a").attr("href","javascript:void(0);"),a(".ng-sort").find("a.ng-all-hook").attr("href","javascript:void(0);"),a(".ng-bar-node-mini-cart").attr("href","javascript:void(0);"))},B=function(){var b,c=a(".app-down-box"),d=c.find(".ng-d-box"),e=c.find("img[src3]"),f=function(){c.find(".ng-bar-node").addClass("ng-bar-node-hover"),e.each(function(){a(this).attr("src",a(this).attr("src3")).removeAttr("src3")}),d.slideDown(100)},g=function(){c.find(".ng-bar-node").removeClass("ng-bar-node-hover"),d.slideUp(100)};c.hover(function(){clearTimeout(b),b=setTimeout(function(){f()},150)},function(){clearTimeout(b),b=setTimeout(function(){g()},200)}),c.find("a.ng-bar-node").click(function(){a(this).toggleClass("ng-bar-node-hover").siblings(".ng-d-box").slideToggle(100)}),a(".ng-site-nav-box").hover(function(){SFE.search.clearBox(),SFE.search.searchIptBlur()}),cartHandle=a(".ng-bar-node-mini-cart"),a(".ng-sn-site-nav").find("i.new").length>=1&&a(".ng-site-nav-box").find("a.ng-bar-node").find("i.new").css("display","inline-block")},C=function(){function b(){switch(j(w)){case"prd":d=m?"https://my.suning.com/":"http://my.suning.com/",e="//image.suning.cn/uimg/cmf/cust_headpic/",f="//sslres.suning.com/",g="https://sign.suning.com/sign-web/";break;case"pre":d=m?"https://mypre.cnsuning.com/":"http://mypre.cnsuning.com/",e="//uimgpre.cnsuning.com/uimg/cmf/cust_headpic/",f="//presslres.suning.com/",g="http://signpre.cnsuning.com/sign-web/";break;case"sit":d=m?"https://mysit.cnsuning.com/msi-web/":"http://mysit.cnsuning.com/msi-web/",e="//uimgpre.cnsuning.com/uimg/cmf/cust_headpic/",f="//sitsslres.suning.com/",g="http://signsit.cnsuning.com/sign-web/";break;case"sit2":d=m?"https://mysit.cnsuning.com/msi-web/":"http://mysit.cnsuning.com/msi-web/",e="//uimgpre.cnsuning.com/uimg/cmf/cust_headpic/",f="//sitsslres.suning.com/",g="https://sign.suning.com/sign-web/"}}var c,d,e,f,g,h=a(".mysuning-handle"),i=h.find(".ng-d-box"),k=h.find("img[src3]"),l=!1,m="https:"==document.location.protocol;b();var n=function(){h.find(".ng-bar-node").addClass("ng-bar-node-hover"),k.each(function(){a(this).attr("src",a(this).attr("src3")).removeAttr("src3")}),i.slideDown(100),M()&&(l||a.ajax({type:"post",url:d+"b2cBroadside/memberInfoPageHeadB2c.do",async:!0,dataType:"jsonp",jsonpCallback:"getMyMemberInfoCallback",timeout:15e3,success:function(b){"1"==b.custType&&a("#userNickname").attr("href",d+"getEnterpriseMemberInfo.do"),null!=b.nickName&&"error"!=b.nickName&&a("#userNickname").html(b.nickName),"0"==b.custType?a("#userHead").attr("src",e+b.sysHeadPicNum):null!=b.sysHeadPicNum?a("#userHead").attr("src",e+b.sysHeadPicNum):a("#userHead").attr("src",f+"project/msIndex/enterprise/css/images/sysheadpic_60x60.jpg"),a("#userNickname").css("display","block"),a(".mysuning-infor .login").hide(),l=!0,a.ajax({type:"post",url:g+"sign/ajax/outer/jsonp/remindSignByTodayResult.do",async:!0,dataType:"jsonp",jsonpCallback:"getDkInfor",timeout:15e3,success:function(b){b&&b.data&&0==b.data.remindSignByTodayResult&&a(".mysuning-detail .daka").html("已打卡")},error:function(){}})},error:function(a){}}))},o=function(){h.find(".ng-bar-node").removeClass("ng-bar-node-hover"),i.slideUp(100)};h.hover(function(){clearTimeout(c),c=setTimeout(function(){n()},150)},function(){clearTimeout(c),c=setTimeout(function(){o()},200)})},D={httpType:"https:"==document.location.protocol?"https":"http",miniCartLoadingDom:'<div class="g-cart-tipbox"></div>',loadingFailDom:'<div class="g-cart-tipbox" ><h5>好像没加载成功</h5><div class="desc"><a name="public0_none_cblgwc_shuaxin" href="javascript:void(0);" class="btn refresh-btn">刷新</a></div></div>',noDataDom:'<div class="ng-min-cart" id="myCart"><div class="g-cart-no-data" id="snCartList"></div></div>',noDataHasLogon:'<div class="g-cart-tipbox" style="display: block;"><i class="icon"></i><h5>不要让您的购物车空着哦，快去逛逛吧</h5></div>',noDataHasNoLogon:'<div class="g-cart-tipbox" style="display: block;"><i class="icon"></i><h5 class="">不要让您的购物车空着哦，快去逛逛吧</h5><div class="desc">如果您已添加过宝贝，那就赶紧登录查看吧<a name="public0_none_cblgwc_denglu" href="javascript:void(0);" class="btn">登录</a></div></div>',cloudimagesDomain:{elecProductDomain:"//product.suning.com",imageDomianDir:"//image3.suning.cn",snShopMainPh:".suning.com",shopPath:"//shop"},cartChild:"",cartWrapper:"",cartTypeDomain:"",passportDomain:"",httpsDomain:"",hasPassport:!1,scrollTopValue:0,init:function(){var b=this;b.cartChild=a(".cart-handle .cart-child"),b.cartWrapper=b.cartChild.find(".cart-box");var c=document.location.hostname;switch(j(c)){case"pre":b.passportDomain="https://passportpre.cnsuning.com/",b.cartTypeDomain=b.httpType+"://shoppingpre.cnsuning.com/",b.httpsDomain="https://sslpre.cnsuning.com/",b.newPassDomain="https://mypre.cnsuning.com/";break;case"sit":b.passportDomain="https://passportsit.cnsuning.com/",b.cartTypeDomain=b.httpType+"://shoppingsit.suning.com/",b.httpsDomain="https://sslsit.cnsuning.com/",b.newPassDomain="https://mysit.cnsuning.com/";break;case"prd":b.passportDomain="https://passport.suning.com/",b.cartTypeDomain=b.httpType+"://shopping.suning.com/",b.httpsDomain="https://ssl.suning.com/",b.newPassDomain="https://loginst.suning.com/";break;default:b.passportDomain="https://passport.suning.com/",b.cartTypeDomain=b.httpType+"://shopping.suning.com/",b.httpsDomain="https://ssl.suning.com/",b.newPassDomain="https://loginst.suning.com/"}window.passport_config=window.passport_config||{},window.passport_config.base=b.newPassDomain,window.passport_config.loginTheme="b2c_pop",window.passport_config.successCallbackUrl=b.newPassDomain+"popupLoginSuccess?",b._checkPassport(),b.promoDetials(),b.changeNum(),b.checkItem(),b.deleteItem(),b.cartWrapper.delegate("a[name^=public0_none_cblgwc_], input[name^=public0_none_cblgwc_]","click",function(){sa.click.sendDatasIndex(this)}),b.bindEvent()},bindEvent:function(){var b,c=this,d=a(".cart-handle"),e=d.find(".ng-d-box"),f=function(){d.find(".ng-bar-node").addClass("ng-bar-node-hover");var b=a(".sn-sidebar"),f=b.find(".sn-sidebar-tab-cart"),g=b.find(".sn-sidebar-contents");b&&f.hasClass("sn-sidebar-tab-click")&&g.find("#myCart").length>0&&g.animate({right:"-400px"},300,function(){g.find("#myCart").remove(),a(".sn-sidebar-tab-cart").trigger("click")}),e.slideDown(100),a(".cart-handle .ng-min-cart").length>0||c.miniCartData()},g=function(){d.find(".#myCart").remove(),d.find(".ng-bar-node").removeClass("ng-bar-node-hover"),e.slideUp(100)};d.hover(function(){clearTimeout(b),b=setTimeout(function(){f()},150)},function(){clearTimeout(b),b=setTimeout(function(){g()},200)})},tip:function(a,b,c,d){var c=c||"bottom",e=b.find(".g-cart-ui-tooltip"),f='<div class="g-cart-ui-tooltip g-cart-ui-tooltip-'+c+'" role="tooltip"><div class="g-cart-ui-tooltip-arrow"><i class="g-cart-ui-tooltip-arrow-front">◆</i><i class="g-cart-ui-tooltip-arrow-back">◆</i></div><div class="g-cart-ui-tooltip-inner">'+a+"</div></div>";if(e.length)e.show();else{b.append(f),e=b.find(".g-cart-ui-tooltip");var g="-"+(e.height()+7)+"px",h=d+"px";"top"==c&&e.css({left:h,top:g}),"bottom"==c&&e.css({left:h})}},promoDetials:function(){var b,c=this;c.cartWrapper.delegate(".promotion-info","mouseenter",function(){var d=a(this).find(".desc").data("msg"),e=a(this).parent();b=setTimeout(function(){clearTimeout(b),c.tip(d,e,"bottom")},200)}),c.cartWrapper.delegate(".promotion-info","mouseleave",function(){var c=a(this).parent();clearTimeout(b),b=setTimeout(function(){c.find(".g-cart-ui-tooltip").hide()},200)}),c.cartWrapper.delegate(".g-cart-ui-tooltip","mouseenter",function(){clearTimeout(b)}),c.cartWrapper.delegate(".g-cart-ui-tooltip","mouseleave",function(){var c=a(this);b=setTimeout(function(){c.remove()},200)})},addStoreFirstClass:function(){this.cartWrapper.find("dd").removeClass("first"),this.cartWrapper.find(".g-cart-store dd:first").addClass("fisrt")},quantity:function(){this.cartWrapper.find(".g-cart-cout-input").each(function(){parseInt(this.value,10)>1&&parseInt(this.value,10)<99&&(a(this).prev("a").removeClass("g-cart-cout-btnl-disabled"),a(this).next("a").removeClass("g-cart-cout-btnr-disabled")),parseInt(this.value,10)>=99&&(a(this).next("a").addClass("g-cart-cout-btnr-disabled"),a(this).prev("a").removeClass("g-cart-cout-btnl-disabled"))})},changeNum:function(){function b(b){var d=a(b).val().replace(/\D/g,"");d<e.start?d=e.start:d>e.end&&(d=e.end);var f=a(b).siblings(".g-cart-cout-btnr"),g=a(b).siblings(".g-cart-cout-btnl"),h=a(b).parent().siblings(".g-cart-cout-text");a(b).val(d),h.text(d),c(g,f,d)}function c(a,b,c){c<e.end?b.removeClass("g-cart-cout-btnr-disabled"):b.addClass("g-cart-cout-btnr-disabled"),c<=e.start?a.addClass("g-cart-cout-btnl-disabled"):a.removeClass("g-cart-cout-btnl-disabled")}var d=this,e={start:1,end:99};this.cartWrapper.delegate(".g-cart-cout-btnl","click",function(){d.scrollTopValue=a("#snCartList").scrollTop();var b=a(this).siblings(".g-cart-cout-input"),f=a(this).parent().siblings(".g-cart-cout-text"),g=a(this),h=a(this).siblings(".g-cart-cout-btnr"),i=parseInt(b.val())-1;i>=e.start&&(b.val(i),f.text(i),d.updateQuantity(a(this))),c(g,h,i)}).delegate(".g-cart-cout-btnr","click",function(){d.scrollTopValue=a("#snCartList").scrollTop();var b=a(this).siblings(".g-cart-cout-input"),f=a(this).parent().siblings(".g-cart-cout-text"),g=a(this),h=a(this).siblings(".g-cart-cout-btnl"),i=parseInt(b.val())+1;i<=e.end&&(b.val(i),f.text(i),d.updateQuantity(a(this))),c(h,g,i)}).delegate(".g-cart-cout-input","keyup",function(c){d.scrollTopValue=a("#snCartList").scrollTop();var e=a(this).val();return(8!=c.which||""!=e)&&(13!=c.which&&38!=c.which&&37!=c.which&&39!=c.which&&40!=c.which&&void b(a(this)))}).delegate(".g-cart-cout-input","mouseup",function(){b(a(this))}).delegate(".g-cart-cout-input","blur",function(){b(a(this)),d.updateQuantity(a(this))})},allCheckStatus:function(){for(var b=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable)").find(":checkbox").not(":disabled"),c=a(".g-cart-store"),d=a("#J_cart_checked_all"),e=!1,f=b.length,g=0;g<f;g++){{if(!b.eq(g).prop("checked")){e=!1;break}e=!0}}e&&d.prop("checked",e),c.each(function(b){var c=!1,d=a(this).find(".g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable)").find(":checkbox").not(":disabled"),e=d.length;if(0!=e){for(var b=0;b<e;b++){{if(!d.eq(b).prop("checked")){c=!1;break}c=!0}}c&&a(this).find(".g-cart-store-title :checkbox").prop("checked",c)}})},checkItem:function(){var b=this;this.cartWrapper.delegate("#J_cart_checked_all","click",function(){var c=a(this).is(":checked"),d=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(":checkbox").not(":disabled");1==c?d.attr("checked",!0):d.attr("checked",!1);var e="",f=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled");a.each(f,function(b,d){var f=a(d).parents(".g-cart-item"),g=f.find(".g-cart-del-handle").attr("exdata");if(void 0!==g){var h=g.split(",");h.length>1&&(g=h[0]),e+=g+"-",e+=c?"1,":"0,"}}),""!=e&&b.doSelectItem(e)}),this.cartWrapper.delegate(".sn-sidebar-minicart-sn-store","click",function(){var c=a(this).is(":checked"),d=a(this).closest(".g-cart-store").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled");1==c?d.attr("checked",!0):d.attr("checked",!1);var e="",f=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(":checkbox").not(":disabled"),g=!0;f.each(function(){a(this).is(":checked")||(g=!1)}),1==g?a("#J_cart_checked_all").attr("checked",!0):a("#J_cart_checked_all").attr("checked",!1);var h=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled");a.each(h,function(b,c){var d=a(c).parents(".g-cart-item"),f=d.find(".g-cart-del-handle").attr("exdata");if(void 0!==f){var g=f.split(",");g.length>1&&(f=g[0]),e+=f+"-",e+=(a(c).attr("checked")?"1":"0")+","}}),b.doSelectItem(e)}),this.cartWrapper.delegate(".sn-sidebar-minicart-c-store","click",function(){var c=a(this).is(":checked"),d=a(this).closest(".g-cart-store").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled");1==c?d.attr("checked",!0):d.attr("checked",!1);var e="",f=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(":checkbox").not(":disabled"),g=!0;f.each(function(){a(this).is(":checked")||(g=!1)}),1==g?a("#J_cart_checked_all").attr("checked",!0):a("#J_cart_checked_all").attr("checked",!1);var h=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled");a.each(h,function(b,c){var d=a(c).parents(".g-cart-item"),f=d.find(".g-cart-del-handle").attr("exdata");if(void 0!==f){var g=f.split(",");g.length>1&&(f=g[0]),e+=f+"-",e+=(a(c).attr("checked")?"1":"0")+","}}),b.doSelectItem(e)}),this.cartWrapper.delegate(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable) .sn-sidebar-minicart-one-goods:checkbox","click",function(){a(this).not(":checked")&&a("#J_cart_checked_all").attr("checked",!1);var c,d=!0;a(this).parents("dl").attr("id");c=a(this).parents("dl").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled"),c.each(function(){a(this).is(":checked")||(d=!1)});var e=a(this).closest(".g-cart-store-title").find(".store-info:checkbox");1==d?e.attr("checked",!0):e.attr("checked",!1);var f=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(":checkbox").not(":disabled"),g=!0;f.each(function(){a(this).is(":checked")||(g=!1)}),1==g?a("#J_cart_checked_all").attr("checked",!0):a("#J_cart_checked_all").attr("checked",!1);var h="",i=a(".g-cart-list-box .g-cart-item:not(.g-cart-item-disable,.g-cart-suit-disable), .g-cart-store-title").find(".sn-sidebar-minicart-one-goods:checkbox").not(":disabled");a.each(i,function(b,c){var d=a(c).parents(".g-cart-item"),e=d.find(".g-cart-del-handle").attr("exdata");if(void 0!==e){var f=e.split(",");f.length>1&&(e=f[0]),h+=e+"-",h+=(a(c).attr("checked")?"1":"0")+","}}),b.doSelectItem(h)})},deleteItem:function(){var b=this;this.cartWrapper.delegate(".g-cart-del-handle","click",function(){b.scrollTopValue=a("#snCartList").scrollTop();var c=a(this).parent(),d=a(c).parents(".g-cart-td"),e=d.find(".g-cart-del-handle").attr("exdata"),f=e.split(",");f.length>1&&(e=f[0]),a.ajax({type:"get",dataType:"jsonp",data:{deleteInfo:e},url:b.cartTypeDomain+"deleteMiniCart.do",success:function(a){d.animate({opacity:0},function(){d.remove(),void 0!=typeof a&&a&&"undefined"!=a?void 0!==a.html&&a.html&&"undefined"!=a.html?b._successDoSomethings(a):void 0!==a.isEmpty&&a.isEmpty&&"empty"==a.isEmpty?b._checkLogin(!0):b._showError():b._showError()}),c=null},error:function(){b._showError()}})})},updateQuantity:function(b){var c=this,d=a(b).parents(".g-cart-item"),e=d.find(".g-cart-del-handle").attr("exdata"),f=d.find(".g-cart-cout-input").val();clearTimeout(c.postTimeout);for(var g=e+"-"+f,h=c.productArr.length,i=0,j=0;j<h;j++)if(c.productArr[j].split("-")[0]==e){i=1,c.productArr[j]=g;break}0==i&&c.productArr.push(g),c.postTimeout=setTimeout(function(){var b=c.productArr.join(",");c.productArr=[],a.ajax({url:c.cartTypeDomain+"updateMiniCartProNum.do",type:"GET",data:{updateNumCmmdty:b},dataType:"jsonp",crossDomain:!0,success:function(a){
void 0!=typeof a&&a&&"undefined"!=a?void 0!=typeof a.html&&a.html&&"undefined"!=a.html?c._successDoSomethings(a):void 0!=typeof a.isEmpty&&a.isEmpty&&"empty"==a.isEmpty?c._checkLogin():c._showError():c._showError()},error:function(){c._showError()}})},1e3)},productArr:[],postTimeout:"",doSelectItem:function(b){var c=this;c.scrollTopValue=a("#snCartList").scrollTop(),a.ajax({url:c.cartTypeDomain+"operateMiniCartCheck.do",type:"GET",data:{checkInfo:b},dataType:"jsonp",crossDomain:!0,success:function(a){void 0!==a&&a&&"undefined"!=a?void 0!==a.html&&a.html&&"undefined"!=a.html?c._successDoSomethings(a):void 0!==a.isEmpty&&a.isEmpty&&"empty"==a.isEmpty?c._checkLogin():c._showError():c._showError()},error:function(){c._showError()}})},miniCartData:function(b){var c=this,b=b||0;0==b&&this.cartWrapper.html(this.noDataDom),c.cartChild.find(".cart-loading").show(),a.ajax({type:"get",dataType:"jsonp",url:c.cartTypeDomain+"showMiniCart.do",success:function(a){1==b&&D.init(),void 0!==a&&a&&"undefined"!=a?void 0!==a.html&&a.html&&"undefined"!=a.html?c._successDoSomethings(a):void 0!==a.isEmpty&&a.isEmpty&&"empty"==a.isEmpty?c._checkLogin():c._showError():c._showError()},error:function(){c._showError()}})},_checkLogin:function(a){var b=this;b.cartWrapper.html(this.noDataDom);try{probeAuthStatus(function(){b.cartWrapper.find(".g-cart-no-data").html(b.noDataHasLogon),a&&(b.setCookie("totalProdQty","0"),SFE.base.miniCartNum(),window.SnSidebar&&SnSidebar._getCartNum())},function(){b.cartWrapper.find(".g-cart-no-data").html(b.noDataHasNoLogon),b.cartWrapper.find(".g-cart-no-data .desc .btn").click(function(){ensureLogin(function(){SFE.base.isLogin(),b.miniCartData()})})})}catch(c){b.cartWrapper.find(".g-cart-no-data").html(b.noDataHasNoLogon),b.cartWrapper.find(".g-cart-no-data .desc .btn").click(function(){ensureLogin(function(){SFE.base.isLogin(),b.miniCartData()})})}b.cartChild.find(".cart-loading").hide()},_checkPassport:function(){var b=this,c=a("script");if(1!=b.hasPassport){for(var d=0;d<c.size();d++)if(/passport/.test(c.eq(d).attr("src"))){b.hasPassport=!0;break}if(!b.hasPassport){var e=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript",f.onload=f.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f.onload=f.onreadystatechange=null)},f.src=b.passportDomain+"ids/js/passport.js",e.appendChild(f)}}},_showError:function(){var a=this;a.cartWrapper.html(this.noDataDom),a.cartWrapper.find(".g-cart-no-data").html(a.loadingFailDom),a.cartWrapper.find(".g-cart-no-data .refresh-btn").click(function(){a.miniCartData()}),a.setCookie("totalProdQty","0"),SFE.base.miniCartNum(),window.SnSidebar&&SnSidebar._getCartNum(),a.cartChild.find(".cart-loading").hide()},_successDoSomethings:function(b){var c=this;c.cartChild.find(".cart-loading").hide(),c.cartWrapper.html(b.html),a("#snCartList").scrollTop(c.scrollTopValue),c.quantity(),c.addStoreFirstClass(),c.setCookie("totalProdQty",b.totalNumber),SFE.base.miniCartNum(),window.SnSidebar&&SnSidebar._getCartNum(),c.allCheckStatus()},setCookie:function(a,b){if(a.indexOf("quantity")>=0||"totalProdQty"==a){var c=window.location.href;c=c.substring(c.indexOf("//")+2),c=c.substring(0,c.indexOf("/")),c.indexOf(".")>0&&(c=c.substring(c.indexOf(".")));var d=c,e="/",f=a+"="+escape(b)+";domain="+d+";path="+e;document.cookie=f}else document.cookie=a+"="+escape(b)}},E=function(){var b=a(".ng-gif-logo img , img.slogn"),c=b.attr("src3");b.attr("src",c)},F=!1,G=function(b){var c,b=a(b);b.hover(function(){var d=a(this);clearTimeout(c),c=setTimeout(function(){b.hasClass("lazy-bar-box")&&!F&&(F=!0,H()),d.find("a.ng-bar-node").addClass("ng-bar-node-hover").siblings(".ng-d-box").slideDown(100)},150)},function(){var b=a(this);clearTimeout(c),c=setTimeout(function(){b.find("a.ng-bar-node").removeClass("ng-bar-node-hover").siblings(".ng-d-box").slideUp(100)},150)}),b.find("a.ng-bar-node").click(function(){a(this).toggleClass("ng-bar-node-hover").siblings(".ng-d-box").slideToggle(100),b.hasClass("lazy-bar-box")&&!F&&(F=!0,H())})},H=function(){function c(){var b=cmsApiDomain+"/api/jsonp/cb/headToolbar-getTBcb.jsonp";a.ajax({type:"get",cache:!0,dataType:"jsonp",url:b,jsonpCallback:"getTBcb",success:function(a){if(f=a,d(f),g){var b=a;localStorage.setItem(h,JSON.stringify({time:(new Date).getTime(),topContent:b}))}}})}function d(b){var c="";if(b){if(b.toolbra_daogou){var d=b.toolbra_daogou.nodes,e=d.length;c="";for(var f=0;f<e;f++){c+=f==e-1?'<dl class="sn-site-list rnb">':'<dl class="sn-site-list">',c+="<dt>"+b.toolbra_daogou.tag[f].elementName+"</dt>",c+="<dd>";for(var g=0;g<d[f].tag.length;g++)c+='<p><a name="'+d[f].tag[g].elementDesc+'" href="'+d[f].tag[g].linkUrl+'" target="_blank">'+d[f].tag[g].elementName,d[f].tag[g].color&&(c+='<i class="hot"></i>'),c+="</a></p>";c+="</dd>",c+="</dl>"}a(".ng-sn-site-nav").prepend(c),a(".ng-sn-site-nav .head-loading").remove()}if(b.toolbar_shangjia){var h=b.toolbar_shangjia.tag,e=h.length;c="";for(var f=0;f<e;f++)c+='<a href="'+h[f].linkUrl+'" rel="nofollow" target="_blank" name="'+h[f].elementDesc+'">'+h[f].elementName+"</a>";a(".shop-center-child").html(c)}if(b.toolbar_fuwu){var h=b.toolbar_fuwu.tag,e=h.length;c="";for(var f=0;f<e;f++)c+='<a href="'+h[f].linkUrl+'" rel="nofollow" target="_blank" name="'+h[f].elementDesc+'">'+h[f].elementName+"</a>";a(".service-center-child").prepend(c),a(".service-center-child .head-loading").remove(),a(".service-center-child a").show()}}}var e,f,g=b(),h="lazyTop";if(g&&localStorage.getItem(h)){e=JSON.parse(localStorage.getItem(h)),storeTime=parseInt(e.time)+18e5;(new Date).getTime()>storeTime?c():(f=e.topContent,d(f))}else c()},I=function(){SFE.base.miniCartNum(),window.SnSidebar&&SnSidebar._getCartNum()},J=function(){var b=k("totalProdQty");b=0==b||null==b?0:b,b=parseInt(b),b=b>99?"99+":b,a("#showTotalQty").html(b);var c=a(".ng-bar-node-mini-cart").find("em.cart");0==b||null==b?c.html("&#xe623;"):c.html("&#xe624;")},K=function(){a(".ng-site-nav-box"),a(".ng-sort-list-box"),a(".ng-nav-index").find(".ng-nav"),a(".ng-nav-right-txtact")},L=function(){a(".ng-toolbar").find("a.ng-close").click(function(){var b=a(this).parents(".ng-bar-node-box");b.find(".ng-d-box").slideUp(100,function(){b.find(".ng-bar-node").removeClass("ng-bar-node-hover")})})},M=function(){var b=k("logonStatus");if(null!=b&&""!=b){var c=k("nick");return null==c&&(c=""),c.length>12&&(c=c.substr(0,12)),a("#username-node-slide").show().find("a.username-bar-node-noside").show().find("span").html(c),a(".reg-bar-node").hide(),SFE.base.miniCartNum(),!0}return a(".username-bar-node").hide().find("span").html(""),a(".reg-bar-node").show(),SFE.base.miniCartNum(),!1},N=function(){function b(a){var b;if(isNaN(a)||void 0==a||null==a)b="";else{var c=parseInt(a);c=c>99?"99+":c,b="("+c+")"}return b}if(M()){var c=a("#waitEvaluation"),d=a("#waitDeliveryCounts"),e=a("#waitPayCounts"),f=!1,h=!1;a(".myorder-handle").mouseenter(function(){if(!f){k("custno");a.ajax({url:g+"://review"+v+"suning.com/ajax/getpendingCount/waitEvaluation_callback.do",method:"get",dataType:"jsonp",cache:!0,jsonpCallback:"waitEvaluation_callback",success:function(a){var d=parseInt(a.pendingOrderCount);c.html(b(d)),f=!0}})}h||a.ajax({url:g+"://order"+v+"suning.com/publicService/orderCount.do",method:"get",dataType:"jsonp",success:function(a){d.html(b(a.waitDeliveryCounts)),e.html(b(a.waitPayCounts)),h=!0}})})}},O=function(){function c(){var a,b,c,d,e=0;j.find("li").live({mouseenter:function(c){a=c.pageX,b=c.pageY,h=1==e?0:300},mouseleave:function(f){c=f.pageX,d=f.pageY,e=c<=a+5?Math.abs(d-b)<=28?0:1:0}}),j.live("mouseleave",function(){e=0})}function d(){l.stop(!0,!0).animate({width:"0px"},100,function(){j.find("li").removeClass("current"),a(this).removeClass("ng-sort-detail-border")}),n.mouseleave()}function e(){function c(){a.ajax({url:cmsApiDomain+"/api/jsonp/cb/sortList_v6-threeSortLoad.jsonp",type:"get",dataType:"jsonp",jsonp:"callback",jsonpCallback:"threeSortLoad",cache:!0,success:function(a){if(a&&a.allsort&&a.allsort.nodes&&(p=a.allsort.nodes,q=!0,f)){var b=a.allsort.nodes;localStorage.setItem(g,JSON.stringify({time:(new Date).getTime(),navContent:b}))}}})}if(!q){var d,e,f=b(),g="indexnav";if(f&&localStorage.getItem(g)){d=JSON.parse(localStorage.getItem(g)),e=parseInt(d.time)+18e5;(new Date).getTime()>e?c():(p=d.navContent,q=!0)}else c()}}function f(b){var c=a(this).scrollTop(),d=j.offset().top;sn.isHome&&(c>d?l.animate({top:c-d},100):l.animate({top:0},100));var e="",g="",h="";if(r.html(" "),q&&void 0!==p&&void 0!==p[b]){if(!p[b].nodes)return;var i,m,n=(k("cityId"),p[b],p[b]),o=n.nodes.length;if(p[b],n.nodes[1]){if(g+='<div class="sort-btn">',n.nodes[1].tag)for(var s=0;s<n.nodes[1].tag.length;s++)i=n.nodes[1].tag[s],g+='<a href="'+i.linkUrl+'" target="_blank" name="'+i.trickPoint+'" title="'+i.elementName+'">'+i.elementName+"</a>";g+="</div>"}h+='<div class="cate-list">';for(var s=4;s<o;s++)if(n.nodes[s]&&n.nodes[s].tag&&n.nodes[s].nodes){if(h+="<dl>",m=n.nodes[s].nodes,h+='<dt><a href="'+n.nodes[s].tag[0].linkUrl+'" target="_blank" title="'+n.nodes[s].tag[0].elementName+'" name="'+n.nodes[s].tag[0].trickPoint+'">'+n.nodes[s].tag[0].elementName+"</a></dt>",m[0].tag){h+=2==s?'<dd class="first">':"<dd>";for(var t=0;t<m[0].tag.length;t++)"orange"==m[0].tag[t].elementDesc?h+='<a href="'+m[0].tag[t].linkUrl+'" target="_blank" name="'+m[0].tag[t].trickPoint+'" title="'+m[0].tag[t].elementName+'" class="orange">'+m[0].tag[t].elementName+"</a>":h+='<a href="'+m[0].tag[t].linkUrl+'" target="_blank" name="'+m[0].tag[t].trickPoint+'" title="'+m[0].tag[t].elementName+'">'+m[0].tag[t].elementName+"</a>"}h+="</dd>",h+="</dl>"}h+="</div>",e=g+h+"",r.html(e)}else setTimeout(function(){f(b)},300)}var g,h,i,j=a(".ng-sort-list-box"),l=a(".ng-sort-detail"),m=a("a.ng-all-hook"),n=a(".ng-sort");a(".ng-nav-index");c(),j.find("li").live({mouseenter:function(){var b=a(this);clearTimeout(g),g=setTimeout(function(){b.addClass("current").siblings("li").removeClass("current");var c=b.index(),d=b.attr("maxCol");d=d>7||0==d||null==d?7:d,i=100*d+20+"px",f(c);var e=!!a("body").hasClass("root1200");!l.find("a.threeListAct").eq(c).hasClass("threeListAct-nopic")&&sn.isNewHome?e?l.css("width",998).addClass("ng-sort-detail-border"):l.css("width",798).addClass("ng-sort-detail-border"):e?l.css("width",798).addClass("ng-sort-detail-border"):l.css("width",598).addClass("ng-sort-detail-border")},h)},mouseleave:function(){clearTimeout(g)}});var o;j.hover(function(){clearTimeout(o),o=setTimeout(function(){SFE.search.clearBox(),SFE.search.searchIptBlur()},200)},function(){clearTimeout(o),o=setTimeout(function(){d()},200)}),l.find("a.ng-close-sort").click(function(){d()});var p,q=!1,r=a(".ng-sort-detail");if(sn.isHome){var s;a(".ng-sort-list-box").mouseover(function(){clearTimeout(s),s=setTimeout(function(){e()},200)})}else{var h;m.mouseover(function(){clearTimeout(h),h=setTimeout(function(){e()},200)})}},P=function(){function b(){h=a(window).scrollTop(),l=a(document).height()-q-100,q=a(window).height();var b=sn.isHome?600:0;0==j&&(k=n.offset().top+p+b),i||!sn.isHome&&!sn.hasTopFixed||(h>k?c():d(),j=h>k),h<=k&&(d(),j=!1),0==j||SFE.search.clearBox()}function c(){o.fadeIn(0),smallScreen&&sn.isHome||n.addClass("ng-sort-fixed"),sn.isHome&&n.removeClass("ng-sort-index"),smallScreen||n.find(".ng-sort-list-box").hide(),a(".ng-bar-node-mini-cart").addClass("ng-bar-node-mini-cart-fixed"),a(".cart-child").addClass("ng-bar-node-mini-cart-child-fixed"),a(".reg-bar-node , #username-node-slide ,#username-node").addClass("reg-bar-node-fixed"),a(".ng-search").find(".g-search").addClass("g-search-fixed"),a(".ng-nav-bar").addClass("ng-nav-bar-fixed"),a(".ng-nav-index").hide()}function d(){n.removeClass("ng-sort-fixed"),sn.isHome&&n.addClass("ng-sort-index"),sn.isHome&&!smallScreen&&n.find(".ng-sort-list-box").show(),a(".ng-bar-node-mini-cart").removeClass("ng-bar-node-mini-cart-fixed"),a(".cart-child").removeClass("ng-bar-node-mini-cart-child-fixed"),a(".reg-bar-node , #username-node-slide ,#username-node").removeClass("reg-bar-node-fixed"),a(".ng-search").find(".g-search").removeClass("g-search-fixed"),a(".ng-nav-bar").removeClass("ng-nav-bar-fixed"),a(".ng-nav-index").show(),o.fadeOut(100)}function e(){0==r.find("ul.sort-list").length&&a.ajax({url:x.allSort,method:"get",dataType:"jsonp",jsonpCallback:"allSort",cache:!0,success:function(a){r.prepend(a)}})}function f(){q>500&&(t.stop(!1,!0).slideDown(),t.find("img[src3]").each(function(){a(this).attr("src",a(this).attr("src3")).removeAttr("src3")}),u.addClass("ng-btn-hover"))}function g(){t.stop(!1,!0).slideUp(),u.removeClass("ng-btn-hover")}var h,j,k,l,m,n=a(".ng-sort"),o=a(".ng-fix-bar"),p=n.height(),q=a(window).height(),r=(a(".ng-bottom-fixed-pub"),a(".ng-bottom-fixed-sidebar"),a(".ng-sort-list-box"));a(window).scroll(function(){sn.isNewHome||b(),h>l?f():g()}),n.hover(function(){if(j||!sn.isHome){clearTimeout(m);a(this);e(),m=setTimeout(function(){r.slideDown()},200)}},function(){if(j||!sn.isHome){clearTimeout(m);var b=a(this);m=setTimeout(function(){b.find(".ng-sort-detail").animate({width:"0px"},100,function(){r.slideUp(200)})},200)}});var s=a(".ng-bottom-fixed"),t=s.find(".ng-slide-box-code"),u=s.find("a.code-btn"),v=s.find("a.ng-btn"),w=a(".ng-slide-box-life"),y=s.find("a.ng-close");v.click(function(){s.find(".ng-slide-box").slideUp().siblings("a.ng-btn").removeClass("ng-btn-hover")});var z=u.attr("link");q<500&&u.attr({href:z,target:"_blank"}),sn.isHome||a("#ng-mob-link").attr("href",z),u.click(function(){t.is(":visible")?g():f()}),s.find(".life-help-btn").click(function(){a(this).toggleClass("ng-btn-hover"),w.is(":visible")?w.slideUp():w.slideDown()}),a(".ng-backtotop").click(function(){a("html, body").animate({scrollTop:0},200)}),a(document).on("keyup",function(b){var c=b.target.nodeName.toUpperCase();"INPUT"!=c&&"TEXTAREA"!=c&&84==b.which&&a(".ng-backtotop").click()}),y.click(function(){a(this).parent(".ng-slide-box").slideUp(),s.find("a.ng-btn").removeClass("ng-btn-hover")}),a(document).click(function(){s.find(".ng-slide-box").slideUp(),v.removeClass("ng-btn-hover")}),s.click(function(a){a.stopPropagation()})},Q=function(){function c(b){var c=a(b);if(c.length>0)return a(window).scrollTop()+a(window).height()>c.offset().top&&c.offset().top+c.height()>a(window).scrollTop()}function d(){function d(){a.ajax({type:"get",cache:!0,dataType:"jsonp",url:"//lib.suning.com/api/jsonp/cb/gFooter-getFootercb.jsonp",jsonpCallback:"getFootercb",success:function(a){if(g=a,f(g),i){var b=a;localStorage.setItem(key,JSON.stringify({time:(new Date).getTime(),footerContent:b}))}}})}function f(b){var c,d,e,f,g,h="";if(b){if(b.five_logo){var i=b.five_logo.tag;i&&(c=i.length);for(var j=0;j<c;j++)e=b.five_logo.tag[j],h+='<dl><dt><a href="'+e.linkUrl+'" target="_blank" rel="nofollow" name="'+e.productSpecialFlag+'"><img src="//image.suning.cn'+e.picUrl+'" alt="'+e.elementDesc+'" /></a></dt><dd><p><strong><a href="'+e.linkUrl+'" target="_blank" rel="nofollow" name="'+e.productSpecialFlag+'">'+e.elementName+"</a></strong></p><p>"+e.elementDesc+"</p></dd></dl>";a(".ng-promise").prepend(h),h=""}if(b.footLink_list){var k=b.footLink_list.nodes;if(k){c=k.length;for(var j=0;j<c;j++){if(h+="<dl>",e=k[j],h+="<dt>"+k[j].tag[0].elementName+"</dt>",g=e.nodes){d=g[0].tag.length;for(var l=0;l<d;l++)f=g[0].tag[l],h+='<dd><a href="'+f.linkUrl+'" target="_blank" rel="nofollow" name="'+f.elementDesc+'">'+f.elementName+"</a></dd>"}h+="</dl>"}a(".ng-help-box").html(h),h=""}}if(b.footer_one){var i=b.footer_one.tag;if(i){c=i.length;for(var j=0;j<c;j++)e=i[j],h+='<a href="'+e.linkUrl+'" target="_blank" name="'+e.elementDesc+'">'+e.elementName+"</a>",j!=c-1&&(h+="<span>|</span>");a(".ng-url-list").eq(0).html(h),h=""}}if(b.footer_two){var i=b.footer_two.tag;if(i){c=i.length;for(var j=0;j<c;j++)e=i[j],h+='<a href="'+e.linkUrl+'" target="_blank" name="'+e.elementDesc+'">'+e.elementName+"</a>",j!=c-1&&(h+="<span>|</span>");a(".ng-url-list").eq(1).html(h),h=""}}a(".ng-app-down").show(),a(".ng-copyright").show(),a(".ng-authentication").show()}}var g;if((c(".ng-footer")||c(".ng-s-footer"))&&!e){e=!0;var h,i=b();if(key="lazyFooter",i&&localStorage.getItem(key)){h=JSON.parse(localStorage.getItem(key)),storeTime=parseInt(h.time)+18e5;(new Date).getTime()>storeTime?d():(g=h.footerContent,f(g))}else d()}}var e=!1;d(),a(window).resize(function(){d()}).scroll(function(){d()})},R=function(){var b=j(document.location.hostname),c="",d={};M()&&(c="prd"==b?"//msg.suning.com/mms-web/":"//msg"+b+".cnsuning.com/mms-web/",a.ajax({url:c+"service/getlastunreadmsg.do",method:"get",dataType:"jsonp",cache:!1,jsonpCallback:"getUnreadMsg",success:function(b){b&&b.status&&b.status>0&&(a(".ng-bar-node-msg .dot").show(),a(".ng-msg-child .ng-msg-list").html('<a class="ng-msg-item" name="public0_none_dbgjt_wdxx02" href="'+(b.msgUrl||"//msg.suning.com/")+'" target="_blank" unread="true"><i></i><span>'+b.msgInfo+"</span></a>"),d=b)}}),a(".ng-msg-child").on("click",".ng-msg-item[unread]",function(){a(this).data();a.ajax({url:c+"service/updateMsgToreaded.do",method:"get",dataType:"jsonp",cache:!1,jsonpCallback:"updateUnreadMsg",data:{msgId:d.msgId,terminalCode:d.terminalCode,typeCode:d.msgTypeCode},success:function(b){var c="";b&&0==b.returnCode&&(a(".ng-bar-node-msg .dot").hide(),c='<div class="ng-msg-item ng-msg-item-no"><i></i><span>嗷~ 没有新消息...</span></div>',a(".ng-msg-child .ng-msg-list").html(c))}})}))},S=function(){B(),C(),D.init(),G(".ng-site-nav-box"),G(".ng-msg-box"),G(".shop-handle"),G(".myorder-handle"),G(".collect-handle"),G(".service-handle"),G(".username-handle"),L(),A(),K(),N(),E()},T=function(){M(),R(),N()},U=!1,V=function(){var b=a("#searchKeywords"),c=a.trim(b.val());if(""==c)b.focus();else{if("snbook"==a("#g_static_channel_name").val()){var d=sn.searchDomain.replace("emall/","")+"web/search.do?keywords="+encodeURIComponent(f(c));return window.location.href=d,!1}var d=sn.searchDomain.replace("emall/","")+encodeURIComponent(f(c)),e=k("cityId")||"9173";d+="/cityId="+e,"22001"==sn.searchCatalogId&&(d=sn.searchDomain+"bookSearch.do?keyword="+encodeURIComponent(c),d+="&cityId="+e,a("#bookSearchChannel").length>0&&(d+=a("#bookSearchChannel").attr("value"))),"14655"==sn.searchCatalogId&&(d+="&ch=1"),"14656"==sn.searchCatalogId&&(d+="&ch=2"),"undefined"!=typeof searchCatalogId&&""!=searchCatalogId&&0!=searchCatalogId&&(d+="&ci="+searchCatalogId),U&&(d=sn.searchDomain.replace("emall/","")+"shop/search.do?app=shopsearch&keyword="+encodeURIComponent(c)),"undefined"!=typeof param&&("10"==param.searchType?d+="&ch=1":"12"==param.searchType&&(d+="&ch=2"));try{var g=a(".g-ac-store").find("em").eq(0).text(),h=c,i="YT_"+h+"_"+g+"_"+search_da_djc_index,j=a('<a href="###" name="'+i+'"></a>')[0];"undefined"!=typeof sa&&void 0!==sa.click&&sa.click.sendDatasIndex(j)}catch(l){}window.location.href=d}return!1},W={};return{d:k,toolBarEvent:S,setSearchCity:u,replaceCityParam:d,replaceCityPlaceHolder:e,registerurl:p,logonurl:o,allSort:O,fixEvent:P,miniCartReload:I,miniCartNum:J,isLogin:M,getCity:q,logoff:n,footerLazyLoad:Q,floatBar:t,onSubmitSearch:V,getActivityNav:function(){var b=a.Deferred();if(0==a(".g-search").length||i||sn.noShowTopCms)return!1;switch(j(w)){case"prd":W={domains:"//lib.suning.com/",imgdomains:"//image.suning.cn/"};break;case"pre":W={domains:"//libpre.cnsuning.com/",imgdomains:"//uimgpre.cnsuning.com/"};break;case"sit":case"sit2":W={domains:"//libsit.cnsuning.com/",imgdomains:"//uimgpre.cnsuning.com/"}}var c=W.domains+"activityNav-activityNavHtml.jsonp";return a.ajax({type:"get",cache:!0,dataType:"jsonp",url:c,jsonpCallback:"activityNavHtml",success:function(c){if(void 0!==c&&c&&"undefined"!=c){var d,e,f=c.activityNavImg.tag,g=c.activityNavBtn.tag,h=c.navLiftList.tag,i=c.navRightList.tag,j=c.actNavCode.tag,k=c.activityNavBg.tag,l=c.actFooterTitle.tag,m="",n="",o="";if(f&&g&&k&&f.length&&g.length&&k.length){d=f[0].linkUrl?'<a href="'+f[0].linkUrl+'" target="_blank" ':'<a href="javascript:;"',m='<div class="activity-nav-wrapper" style=" background:'+k[0].color+';"><div class="activity-nav">'+d+'" title="'+f[0].elementName+'"><img src="'+W.imgdomains+f[0].picUrl+'" alt="" width="140" height="55" /></a><ul>';for(var p=0;p<g.length;p++)o=g[p].elementName.length>3?"fouthword":"",d=g[p].linkUrl?'<a href="'+g[p].linkUrl+'" target="_blank" name="'+g[p].trickPoint+'"':'<a href="javascript:;"',m+="<li>"+d+' class="'+o+'">'+g[p].elementName+'</a><i class="angle"></i></li>';m+="</ul></div></div>",a(".ng-toolbar").before(m)}if((a(".ng-footer").find(".ng-ser-box").length>0||a(".ng-footer").find(".footer-dom").length>1)&&h&&i&&j&&l&&h.length&&i.length&&j.length&&l.length){var q=l[0].elementDesc.split(";"),r=q[0]?q[0]:"",s=q[1]?q[1]:"";d=l[0].linkUrl?'<a href="'+l[0].linkUrl+'" target="_blank" name="'+l[0].trickPoint+'"':'<a href="javascript:;"',e=l[1].linkUrl?'<a href="'+l[1].linkUrl+'" target="_blank" name="'+l[1].trickPoint+'"':'<a href="javascript:;"',n='<div class="activity-list-wrapper" style="background:'+r+'"><div class="activity-title"><h3 class="main-enter">'+d+' style="color:'+l[0].color+';">'+l[0].elementName+'</a><span></span></h3><h3 class="activity-enter">'+e+' style="color:'+l[0].color+';">'+l[1].elementName+'</a><span></span></h3></div><div class="activity-list"><div class="mobiledown"><div class="code-wrapper" style="background:'+s+'"><div class="code"><img src="'+W.imgdomains+j[0].picUrl+'" alt="" width="75" height="75" /></div><p>'+j[0].elementName+'</p></div><p class="title" style="color:'+j[0].color+'">'+j[0].elementDesc+'</p></div><ul class="activity-list-left">';for(var t=0;t<h.length;t++)d=h[t].linkUrl?'<a href="'+h[t].linkUrl+'" target="_blank" name="'+h[t].trickPoint+'"':'<a href="javascript:;"',n+='<li style="background:'+s+';">'+d+">"+h[t].elementName+"</a><i>></i></li>";n+='</ul><ul class="activity-list-right">';for(var u=0;u<i.length;u++)d=i[u].linkUrl?'<a href="'+i[u].linkUrl+'" target="_blank" name="'+i[u].trickPoint+'"':'<a href="javascript:;"',n+='<li style="background:'+s+';">'+d+">"+i[u].elementName+"</a><i>></i></li>";n+="</ul></div></div>",a(".ng-footer").before(n)}}b.resolve()},error:function(){}}),b.promise()},loginMsg:T}}(jQuery);var stripscript=function(a){for(var b=new RegExp("[<>]"),c="",d=0;d<a.length;d++)c+=a.substr(d,1).replace(b,"");return c};$(function(){SFE.base.toolBarEvent(),SFE.base.navPromise=SFE.base.getActivityNav(),SFE.search.searchEvent(),SFE.base.allSort(),SFE.base.fixEvent(),SFE.base.footerLazyLoad(),$("a[name^=public0_],input[name^=public0_]").live("click",function(){"undefined"!=typeof sa&&sa.click.sendDatasIndex(this)}),$(".ng-bottom-fixed a.ng-btn").on("click",function(){"undefined"!=typeof sa&&sa.click.sendDatasIndex(this)})});